<!DOCTYPE html><html><head><meta charset="utf-8"></meta><meta content="width=device-width, initial-scale=1" name="viewport"></meta><title>class LZ4Reader: mcap documentation</title><link href="styles.css" rel="stylesheet"></link><script src="highlight.min.js"></script><script>hljs.highlightAll();</script><link href="katex.min.css" rel="stylesheet"></link><script src="katex.min.js"></script><script src="auto-render.min.js"></script><script>
    document.addEventListener("DOMContentLoaded", function() {
      renderMathInElement(document.body, {
        delimiters: [
          {left: '$$', right: '$$', display: true},
          {left: '$', right: '$', display: false},
        ],
      });
    });
  </script><link href="apple-touch-icon.png" sizes="180x180" rel="apple-touch-icon"></link><link href="favicon-32x32.png" sizes="32x32" type="image/png" rel="icon"></link><link href="favicon-16x16.png" sizes="16x16" type="image/png" rel="icon"></link></head><body><div id="wrapper"><section class="section"><div class="container"><div class="columns"><aside class="column is-one-fifth"><ul class="menu-list"><p class="is-size-4">mcap </p><p class="menu-label">Navigation</p><li><a href="index.html">Home</a></li><li><a href="search.html">Search</a></li><li><a href="https://github.com/foxglove/mcap/blob/main/cpp/">Repository</a></li><p class="menu-label">API Documentation</p><li><a href="functions.html">Functions</a></li><li><a href="records.html">Records</a></li><li><a href="enums.html">Enums</a></li><li><a href="namespaces.html">Namespaces</a></li></ul></aside><div class="column" style="overflow-x: auto"><nav class="breadcrumb has-arrow-separator" aria-label="breadcrumbs"><ul><li><a href="namespaces.html#C3AC70FBA9BDBAD2"><span>namespace mcap</span></a></li><li class="is-active"><a aria-current="page774EF7E7CA5F9F1F"><span>class LZ4Reader</span></a></li></ul></nav><main class="content"><h1>class LZ4Reader</h1><h2>Declaration</h2><pre class="p-0"><code class="hdoc-record-code language-cpp">class LZ4Reader : public ICompressedReader { /* full declaration omitted */ };</code></pre><h2>Description</h2><p>ICompressedReader implementation that decompresses LZ4 (https://lz4.github.io/lz4/) data.</p><p>Declared at: <a class="is-family-code" href="https://github.com/foxglove/mcap/blob/main/cpp/mcap/include/mcap/reader.hpp#L191">mcap/include/mcap/reader.hpp:191</a></p><p>Inherits from: <a href="r3AF5DFB3E55979FE.html">ICompressedReader</a></p><h2>Method Overview</h2><ul><li class="is-family-code">public  <a href="#49CC6EA364F78A12"><b>LZ4Reader</b></a>()</li><li class="is-family-code">public  <a href="#5CD87D70BB7D9EA0"><b>LZ4Reader</b></a>(const mcap::LZ4Reader &amp;)</li><li class="is-family-code">public  <a href="#0A754B6DED6D27CD"><b>LZ4Reader</b></a>(mcap::LZ4Reader &amp;&amp;)</li><li class="is-family-code">public mcap::Status  <a href="#BB33F133C43F9C38"><b>decompressAll</b></a>(const std::byte * data, uint64_t size, uint64_t uncompressedSize, mcap::ByteArray * output)</li><li class="is-family-code">public uint64_t  <a href="#134881BBA8FFAB31"><b>read</b></a>(std::byte ** output, uint64_t offset, uint64_t size)</li><li class="is-family-code">public void  <a href="#EE7DB9BA3789BFC2"><b>reset</b></a>(const std::byte * data, uint64_t size, uint64_t uncompressedSize)</li><li class="is-family-code">public uint64_t  <a href="#1E57EAF310F43735"><b>size</b></a>() const</li><li class="is-family-code">public mcap::Status  <a href="#D8B5AF7D81513BD5"><b>status</b></a>() const</li><li class="is-family-code">public  <a href="#5280DF23B49287B5"><b>~LZ4Reader</b></a>()</li></ul><p>Inherited from <a href="r3AF5DFB3E55979FE.html">ICompressedReader</a>:</p><ul><li class="is-family-code"><a href="r3AF5DFB3E55979FE.html#8F5FB76330FE619A">public <b>reset</b></a></li><li class="is-family-code"><a href="r3AF5DFB3E55979FE.html#42B0F21C768259EF">public <b>status</b></a></li></ul><p>Inherited from <a href="rE492FE8769887867.html">IReadable</a>:</p><ul><li class="is-family-code"><a href="rE492FE8769887867.html#1A5C00580799A95D">public <b>read</b></a></li><li class="is-family-code"><a href="rE492FE8769887867.html#4A57ACF058E1A467">public <b>size</b></a></li></ul><h2>Methods</h2><h3 id="49CC6EA364F78A12"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#49CC6EA364F78A12">¶</a><code class="hdoc-function-code language-cpp">LZ4Reader()</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/foxglove/mcap/blob/main/cpp/mcap/include/mcap/reader.hpp#L210">mcap/include/mcap/reader.hpp:210</a></p><h3 id="5CD87D70BB7D9EA0"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#5CD87D70BB7D9EA0">¶</a><code class="hdoc-function-code language-cpp">LZ4Reader(const <a href="r774EF7E7CA5F9F1F.html">mcap::LZ4Reader</a>&amp;)</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/foxglove/mcap/blob/main/cpp/mcap/include/mcap/reader.hpp#L211">mcap/include/mcap/reader.hpp:211</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const <a href="r774EF7E7CA5F9F1F.html">mcap::LZ4Reader</a>&amp;<b> </b></dt></dl><h3 id="0A754B6DED6D27CD"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#0A754B6DED6D27CD">¶</a><code class="hdoc-function-code language-cpp">LZ4Reader(<a href="r774EF7E7CA5F9F1F.html">mcap::LZ4Reader</a>&amp;&amp;)</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/foxglove/mcap/blob/main/cpp/mcap/include/mcap/reader.hpp#L213">mcap/include/mcap/reader.hpp:213</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="r774EF7E7CA5F9F1F.html">mcap::LZ4Reader</a>&amp;&amp;<b> </b></dt></dl><h3 id="BB33F133C43F9C38"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#BB33F133C43F9C38">¶</a><code class="hdoc-function-code language-cpp"><a href="r942D666ED372111C.html">mcap::Status</a> decompressAll(
    const std::byte* data,
    uint64_t size,
    uint64_t uncompressedSize,
    mcap::ByteArray* output)</code></pre></h3><h4>Description</h4><p>Decompresses an entire LZ4-encoded chunk into `output`.</p><p>Declared at: <a class="is-family-code" href="https://github.com/foxglove/mcap/blob/main/cpp/mcap/include/mcap/reader.hpp#L208">mcap/include/mcap/reader.hpp:208</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const std::byte*<b> data</b></dt><dd>The LZ4-compressed input chunk.</dd><dt class="is-family-code">uint64_t<b> size</b></dt><dd>The size of the LZ4-compressed input.</dd><dt class="is-family-code">uint64_t<b> uncompressedSize</b></dt><dd>The size of the data once uncompressed.</dd><dt class="is-family-code">mcap::ByteArray*<b> output</b></dt><dd>The output vector. This will be resized to `uncompressedSize` to fit the data, or 0 if the decompression encountered an error.</dd></dl><h4>Returns</h4><p>Status</p><h3 id="134881BBA8FFAB31"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#134881BBA8FFAB31">¶</a><code class="hdoc-function-code language-cpp">uint64_t read(std::byte** output,
              uint64_t offset,
              uint64_t size)</code></pre></h3><h4>Description</h4><p>This method is called by MCAP reader classes when they need to read a portion of the file.</p><p>Declared at: <a class="is-family-code" href="https://github.com/foxglove/mcap/blob/main/cpp/mcap/include/mcap/reader.hpp#L194">mcap/include/mcap/reader.hpp:194</a></p><h4>Parameters</h4><dl><dt class="is-family-code">std::byte**<b> output</b></dt><dd>A pointer to a pointer to the buffer to write to. This method is expected to either maintain an internal buffer, read data into it, and update this pointer to point at the internal buffer, or update this pointer to point directly at the source data if possible. The pointer and data must remain valid and unmodified until the next call to read().</dd><dt class="is-family-code">uint64_t<b> offset</b></dt><dd>The offset in bytes from the beginning of the file to read.</dd><dt class="is-family-code">uint64_t<b> size</b></dt><dd>The number of bytes to read.</dd></dl><h4>Returns</h4><p>uint64_t Number of bytes actually read. This may be less than the requested size if the end of the file is reached. The output pointer must be readable from `output` to `output + size`. If the read fails, this method should return 0.</p><h3 id="EE7DB9BA3789BFC2"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#EE7DB9BA3789BFC2">¶</a><code class="hdoc-function-code language-cpp">void reset(const std::byte* data,
           uint64_t size,
           uint64_t uncompressedSize)</code></pre></h3><h4>Description</h4><p>Reset the reader state, clearing any internal buffers and state, and initialize with new compressed data.</p><p>Declared at: <a class="is-family-code" href="https://github.com/foxglove/mcap/blob/main/cpp/mcap/include/mcap/reader.hpp#L193">mcap/include/mcap/reader.hpp:193</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const std::byte*<b> data</b></dt><dd>Compressed data to read from.</dd><dt class="is-family-code">uint64_t<b> size</b></dt><dd>Size of the compressed data in bytes.</dd><dt class="is-family-code">uint64_t<b> uncompressedSize</b></dt><dd>Size of the data in bytes after decompression. A buffer of this size will be allocated for the uncompressed data.</dd></dl><h3 id="1E57EAF310F43735"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#1E57EAF310F43735">¶</a><code class="hdoc-function-code language-cpp">uint64_t size() const</code></pre></h3><h4>Description</h4><p>Returns the size of the file in bytes.</p><p>Declared at: <a class="is-family-code" href="https://github.com/foxglove/mcap/blob/main/cpp/mcap/include/mcap/reader.hpp#L195">mcap/include/mcap/reader.hpp:195</a></p><h4>Returns</h4><p>uint64_t The total number of bytes in the MCAP file.</p><h3 id="D8B5AF7D81513BD5"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#D8B5AF7D81513BD5">¶</a><code class="hdoc-function-code language-cpp"><a href="r942D666ED372111C.html">mcap::Status</a> status() const</code></pre></h3><h4>Description</h4><p>Report the current status of decompression. A StatusCode other than `StatusCode::Success` after `reset()` is called indicates the decompression was not successful and the reader is in an invalid state.</p><p>Declared at: <a class="is-family-code" href="https://github.com/foxglove/mcap/blob/main/cpp/mcap/include/mcap/reader.hpp#L196">mcap/include/mcap/reader.hpp:196</a></p><h3 id="5280DF23B49287B5"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#5280DF23B49287B5">¶</a><code class="hdoc-function-code language-cpp">~LZ4Reader()</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/foxglove/mcap/blob/main/cpp/mcap/include/mcap/reader.hpp#L215">mcap/include/mcap/reader.hpp:215</a></p></main></div></div></div></section></div><footer class="footer"><p>Documentation for mcap.</p><p>Generated by <a href="https://hdoc.io/">hdoc</a> version 1.3.2-hdocInternal.</p><p class="has-text-grey-light">19AD43E11B2996</p></footer></body></html>